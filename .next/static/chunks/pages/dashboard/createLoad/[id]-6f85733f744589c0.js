(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9104:function(e,t,n){"use strict";var r=n(7294),i=n(6600),a=n(5893);t.Z=function(e){const{children:t,defer:n=!1,fallback:o=null}=e,[s,l]=r.useState(!1);return(0,i.Z)((()=>{n||l(!0)}),[n]),r.useEffect((()=>{n&&l(!0)}),[n]),(0,a.jsx)(r.Fragment,{children:s?t:o})}},426:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/createLoad/[id]",function(){return n(1023)}])},4627:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo.bebc6ea0.webp",height:217,width:998,blurDataURL:"data:image/webp;base64,UklGRm4AAABXRUJQVlA4WAoAAAAQAAAABwAAAQAAQUxQSBEAAAAAT4xGTkVGXD+UnjhAQj9HOQBWUDggNgAAALABAJ0BKggAAgACQDglAE6AId8Zv3gA/upd/TNb9zgv8w8T7xx92nvreGa6ZzIfJg1r6GvAAA=="}},8461:function(e,t,n){"use strict";n.r(t);var r=n(603),i=n(5893),a=n(7294),o=n(2293),s=n(7357),l=n(155),u=n(3946),c=n(5861),d=n(3375),h=n(3156),p=n(9661),x=n(2389),f=n(3599),m=n(4627),g=n(5675),Z=n.n(g),b=n(1163),j=n.n(b),A=n(3299);t.default=function(){var e=function(){S(null)},t=(0,r.Z)(a.useState(),2),n=t[0],g=t[1],b=(0,r.Z)(a.useState(null),2),v=b[0],S=b[1],k=(0,r.Z)(a.useState(""),2),y=k[0],w=k[1],_=(0,A.useSession)(),C=Boolean(n);if(a.useEffect((function(){var e=window.localStorage.getItem("data");null!==e&&w(JSON.parse(e))}),[]),"authenticated"==_.status){_.data.user.email;var N=_.data.user.image;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.Z,{position:"static",color:"primary",enableColorOnDark:!0,style:{background:"#A9A9A9"},children:(0,i.jsx)(h.Z,{maxWidth:"xl",children:(0,i.jsxs)(l.Z,{disableGutters:!0,children:[(0,i.jsx)(c.Z,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},onClick:function(){return j().push("/")},children:(0,i.jsx)(Z(),{src:m.Z,alt:"logo",width:175,height:45})}),(0,i.jsxs)(s.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,i.jsx)(u.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){g(e.currentTarget)},color:"inherit",children:(0,i.jsx)(d.Z,{})}),(0,i.jsx)(d.Z,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:C,onClose:function(){g(null)},sx:{display:{xs:"block",md:"none"}}})]}),(0,i.jsx)(c.Z,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:(0,i.jsx)(Z(),{src:m.Z,alt:"logo",width:175,height:45})}),(0,i.jsx)(s.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}}),(0,i.jsxs)(s.Z,{sx:{flexGrow:0},children:[(0,i.jsx)(x.Z,{title:"Open settings",children:(0,i.jsx)(u.Z,{onClick:function(e){S(e.currentTarget)},sx:{p:0},children:(0,i.jsx)(p.Z,{alt:"Gmail Photo",src:N})})}),(0,i.jsxs)(d.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:v,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(v),onClose:e,children:[(0,i.jsx)(f.Z,{onClick:function(){e(),j().push("/dashboard/profile/"+y.user_id)},children:"Profile"}),(0,i.jsx)(f.Z,{onClick:function(){(0,A.signOut)(),e(),j().push("/")},children:"Signout"})]})]})]})})})})}return(0,i.jsx)("div",{children:(0,i.jsx)("p",{})})}},1023:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return b},default:function(){return j}});var r=n(7568),i=n(4924),a=n(603),o=n(4051),s=n.n(o),l=n(5893),u=n(6886),c=n(3321),d=n(64),h=n(8461),p=n(7294),x=n(7357),f=n(3299),m=n(9104),g=n(1163),Z=n.n(g),b=!0;function j(e){e.data;var t=e.id,n=(0,a.Z)(p.useState(0),2),o=(n[0],n[1],(0,a.Z)(p.useState(0),2)),g=o[0],b=o[1],j=(0,a.Z)(p.useState(""),2),A=j[0],v=j[1],S=(0,a.Z)(p.useState(""),2),k=S[0],y=S[1],w=(0,a.Z)(p.useState(0),2),_=w[0],C=w[1],N=function(){var e=(0,r.Z)(s().mark((function e(n){var a,o,l,u,c,d,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,t,n){return l.apply(this,arguments)},l=function(){return l=(0,r.Z)(s().mark((function e(t,n,r){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://just-chamois-38.hasura.app/v1/graphql",{method:"POST",headers:(0,i.Z)({},"x-hasura-admin-secret","MLy43KG049rHc1UVMsodU7dVHYrouGG3KEJ18Pm7z45qdxhZqAcnVte00i7uO4HY"),body:JSON.stringify({query:t,variables:r,operationName:n})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)},c=function(){return o(u,"MyMutation",a)},d=function(){return h.apply(this,arguments)},h=function(){return h=(0,r.Z)(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:t=e.sent,n=t.errors,r=t.data,n&&console.error(n),console.log(r),console.log("ran");case 8:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)},e.next=7,{ticket_id:E.ticket_id,tripNumber:Number(g),loadSite:A.toString(),Material:k.toString(),ton:Number(_)};case 7:a=e.sent,console.log("payload ready..."+JSON.stringify(a)),a&&(console.log("ran"),u='\n      mutation MyMutation($Material: String = "", $loadSite: String = "", $ticket_id: Int = "", $ton: Int = "", $tripNumber: Int = "") {\n        insert_Loads_one(object: {Material: $Material, loadSite: $loadSite, ticket_id: $ticket_id, ton: $ton, tripNumber: $tripNumber}) {\n          Material\n          loadSite\n          ticket_id\n          ton\n          tripNumber\n        }\n      }\n    ',d()),Z().push("../../dashboard/"+t);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=(0,f.useSession)(),O=(0,a.Z)(p.useState(""),2),G=(O[0],O[1]),M=(0,a.Z)(p.useState(""),2),E=M[0],I=M[1];return p.useEffect((function(){"authenticated"===P.status&&(G(P.data.user.email),localStorage.getItem("data")?I(JSON.parse(localStorage.getItem("data"))):Z().push("/dashboard/"+t))}),[P.status]),console.log(E.ticket_id),E.ticket_id?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(h.default,{}),(0,l.jsx)(m.Z,{children:(0,l.jsxs)(x.Z,{container:!0,children:[(0,l.jsxs)(u.ZP,{container:!0,columns:16,direction:"row",justifyContent:"center",alignItems:"center",children:[(0,l.jsx)(u.ZP,{item:!0,xs:9}),(0,l.jsx)(u.ZP,{item:!0,xs:5,children:(0,l.jsx)(d.Z,{disabled:!0,id:"filled-disabled",variant:"filled",label:"Ticket ID",type:"number",value:E.ticket_id,name:"ticket_idInput"})})]}),(0,l.jsx)("form",{onSubmit:N,children:(0,l.jsxs)(u.ZP,{container:!0,columnSpacing:12,gap:7,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,l.jsx)(u.ZP,{item:!0,children:(0,l.jsx)(d.Z,{required:!0,id:"outlined-required",type:"text",label:"Trip Number",value:g,name:"tripNumber",style:{width:335},onChange:function(e){return b(e.target.value)}})}),(0,l.jsx)(u.ZP,{item:!0,children:(0,l.jsx)(d.Z,{required:!0,id:"outlined-required",type:"text",label:"Load Site",name:"loadSite",value:A,style:{width:335},onChange:function(e){return v(e.target.value)}})}),(0,l.jsx)(u.ZP,{item:!0,children:(0,l.jsx)(d.Z,{required:!0,id:"outlined-required",label:"Material",value:k,type:"text",style:{width:335},onChange:function(e){return y(e.target.value)}})}),(0,l.jsx)(u.ZP,{item:!0,children:(0,l.jsx)(d.Z,{id:"outlined-number",label:"Yard/Tonnage",name:"ton",type:"number",value:_,InputLabelProps:{shrink:!0},style:{width:335},onChange:function(e){return C(e.target.value)}})}),(0,l.jsx)(u.ZP,{item:!0,children:(0,l.jsx)(c.Z,{type:"button",onClick:N,variant:"outlined",sx:{height:"64.45px",width:"335px;",backgroundColor:"#A9A9A9",color:"#000",borderColor:"transparent","&:hover":{backgroundColor:"#FFA500",color:"#000"}},children:"Save"})}),(0,l.jsx)(u.ZP,{item:!0,children:(0,l.jsx)(c.Z,{variant:"outlined",sx:{height:"64.45px",width:"335px;",backgroundColor:"#A9A9A9",borderColor:"transparent",color:"#000","&:hover":{backgroundColor:"#FFA500",color:"#000"}},onClick:function(){return Z().push("/dashboard/"+t)},children:"Cancel"})})]})})]})})]}):(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("h1",{children:"Please Create a Ticket"})})}j.auth={unauthorized:"/"}}},function(e){e.O(0,[32,830,229,823,362,689,774,888,179],(function(){return t=426,e(e.s=t);var t}));var t=e.O();_N_E=t}]);