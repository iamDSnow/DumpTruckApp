(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[128],{9104:function(e,t,n){"use strict";var r=n(7294),o=n(6600),i=n(5893);t.Z=function(e){const{children:t,defer:n=!1,fallback:a=null}=e,[s,u]=r.useState(!1);return(0,o.Z)((()=>{n||u(!0)}),[n]),r.useEffect((()=>{n&&u(!0)}),[n]),(0,i.jsx)(r.Fragment,{children:s?t:a})}},148:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/createTicket/[id]",function(){return n(5547)}])},4627:function(e,t){"use strict";t.Z={src:"/_next/static/media/logo.bebc6ea0.webp",height:217,width:998,blurDataURL:"data:image/webp;base64,UklGRm4AAABXRUJQVlA4WAoAAAAQAAAABwAAAQAAQUxQSBEAAAAAT4xGTkVGXD+UnjhAQj9HOQBWUDggNgAAALABAJ0BKggAAgACQDglAE6AId8Zv3gA/upd/TNb9zgv8w8T7xx92nvreGa6ZzIfJg1r6GvAAA=="}},8461:function(e,t,n){"use strict";n.r(t);var r=n(603),o=n(5893),i=n(7294),a=n(2293),s=n(7357),u=n(155),c=n(3946),l=n(5861),d=n(3375),h=n(3156),x=n(9661),p=n(2389),f=n(3599),m=n(4627),g=n(5675),Z=n.n(g),j=n(1163),v=n.n(j),A=n(3299);t.default=function(){var e=function(){y(null)},t=(0,r.Z)(i.useState(),2),n=t[0],g=t[1],j=(0,r.Z)(i.useState(null),2),b=j[0],y=j[1],w=(0,r.Z)(i.useState(""),2),C=w[0],S=w[1],k=(0,A.useSession)(),_=Boolean(n);if(i.useEffect((function(){var e=window.localStorage.getItem("data");null!==e&&S(JSON.parse(e))}),[]),"authenticated"==k.status){k.data.user.email;var N=k.data.user.image;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(a.Z,{position:"static",color:"primary",enableColorOnDark:!0,style:{background:"#A9A9A9"},children:(0,o.jsx)(h.Z,{maxWidth:"xl",children:(0,o.jsxs)(u.Z,{disableGutters:!0,children:[(0,o.jsx)(l.Z,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},onClick:function(){return v().push("/")},children:(0,o.jsx)(Z(),{src:m.Z,alt:"logo",width:175,height:45})}),(0,o.jsxs)(s.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,o.jsx)(c.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){g(e.currentTarget)},color:"inherit",children:(0,o.jsx)(d.Z,{})}),(0,o.jsx)(d.Z,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:_,onClose:function(){g(null)},sx:{display:{xs:"block",md:"none"}}})]}),(0,o.jsx)(l.Z,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:(0,o.jsx)(Z(),{src:m.Z,alt:"logo",width:175,height:45})}),(0,o.jsx)(s.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}}),(0,o.jsxs)(s.Z,{sx:{flexGrow:0},children:[(0,o.jsx)(p.Z,{title:"Open settings",children:(0,o.jsx)(c.Z,{onClick:function(e){y(e.currentTarget)},sx:{p:0},children:(0,o.jsx)(x.Z,{alt:"Gmail Photo",src:N})})}),(0,o.jsxs)(d.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:b,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(b),onClose:e,children:[(0,o.jsx)(f.Z,{onClick:function(){e(),v().push("/dashboard/profile/"+C.user_id)},children:"Profile"}),(0,o.jsx)(f.Z,{onClick:function(){(0,A.signOut)(),e(),v().push("/")},children:"Signout"})]})]})]})})})})}return(0,o.jsx)("div",{children:(0,o.jsx)("p",{})})}},5547:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return j},default:function(){return v}});var r=n(7568),o=n(4924),i=n(603),a=n(4051),s=n.n(a),u=n(5893),c=n(6886),l=n(3321),d=n(64),h=n(8461),x=n(7294),p=n(7357),f=n(3299),m=n(9104),g=n(1163),Z=n.n(g),j=!0;function v(e){e.data;var t=e.id,n=(0,i.Z)(x.useState(""),2),a=n[0],g=n[1],j=(0,i.Z)(x.useState(""),2),v=j[0],A=j[1],b=(0,i.Z)(x.useState(""),2),y=b[0],w=b[1],C=(0,i.Z)(x.useState(""),2),S=C[0],k=C[1],_=(0,i.Z)(x.useState(""),2),N=_[0],P=_[1],G=(0,i.Z)(x.useState(""),2),O=G[0],E=G[1],q=function(){var e=(0,r.Z)(s().mark((function e(n){var i,u,c,l,d,h,x;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(e,t,n){return c.apply(this,arguments)},c=function(){return c=(0,r.Z)(s().mark((function e(t,n,r){var i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://just-chamois-38.hasura.app/v1/graphql",{method:"POST",headers:(0,o.Z)({},"x-hasura-admin-secret","MLy43KG049rHc1UVMsodU7dVHYrouGG3KEJ18Pm7z45qdxhZqAcnVte00i7uO4HY"),body:JSON.stringify({query:t,variables:r,operationName:n})});case 2:return i=e.sent,e.next=5,i.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)},d=function(){return u(l,"MyMutation",i)},h=function(){return x.apply(this,arguments)},x=function(){return x=(0,r.Z)(s().mark((function e(){var t,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d();case 2:t=e.sent,n=t.errors,r=t.data,n&&console.error(n),console.log(r),console.log("ran");case 8:case"end":return e.stop()}}),e)}))),x.apply(this,arguments)},e.next=7,k(n);case 7:return e.next=9,{user_id:O,deliveryLocation:v,contractor:a,customerName:N,notes:y,phone:Number(S)};case 9:i=e.sent,console.log("payload ready..."+JSON.stringify(i)),i&&(console.log("ran"),l='\n  mutation MyMutation($contractor: String = "", $customerName: String = "", $deliveryLocation: String = "", $notes: String = "", $phone: Int = 0,$user_id: uuid = "") {\n    insert_Tickets_one(object: {contractor: $contractor, customerName: $customerName, deliveryLocation: $deliveryLocation,  notes: $notes, phone: $phone, user_id: $user_id}\n) {\n      user_id\n      phone\n      notes\n      deliveryLocation\n      customerName\n      contractor\n    }\n  }\n',h()),Z().push("/dashboard/"+t);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=(0,f.useSession)(),$=(0,i.Z)(x.useState(""),2),D=($[0],$[1]),F=(0,i.Z)(x.useState(""),2);F[0],F[1];return x.useEffect((function(){"authenticated"===T.status&&D(T.data.user.email),E(t)}),[T.status]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(h.default,{}),(0,u.jsx)(m.Z,{children:(0,u.jsxs)(p.Z,{sx:{width:"100%"},children:[(0,u.jsx)(p.Z,{sx:{borderBottom:1,borderColor:"divider"}}),(0,u.jsx)(p.Z,{sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:(0,u.jsxs)(c.ZP,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,u.jsx)("form",{onSubmit:q,children:(0,u.jsxs)(c.ZP,{container:!0,columns:12,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,u.jsx)(c.ZP,{item:!0,xs:10,children:(0,u.jsx)(d.Z,{required:!0,id:"outlined-required",type:"text",label:"Contractor",value:a,name:"contractorInput",style:{width:335},onChange:function(e){return g(e.target.value)}})}),(0,u.jsx)(c.ZP,{item:!0,xs:10,children:(0,u.jsx)(d.Z,{required:!0,id:"outlined-required",type:"text",label:"Customer Name",name:"customerNameInput",value:N,style:{width:335},onChange:function(e){return P(e.target.value)}})}),(0,u.jsx)(c.ZP,{item:!0,xs:10,children:(0,u.jsx)(d.Z,{required:!0,id:"outlined-required",label:"Phone No",value:S,type:"text",style:{width:335},onChange:function(e){return k(e.target.value)}})}),(0,u.jsx)(c.ZP,{item:!0,xs:10,children:(0,u.jsx)(d.Z,{required:!0,id:"outlined-required",label:"Delivery Address",name:"deliveryLocationInput",type:"text",value:v,style:{width:335},onChange:function(e){return A(e.target.value)}})}),(0,u.jsx)(c.ZP,{item:!0,xs:10,children:(0,u.jsx)(d.Z,{id:"outlined-multiline-static",label:"Notes/Details for Delivery",name:"notesInput",multiline:!0,rows:4,value:y,type:"text",style:{width:335},onChange:function(e){return w(e.target.value)}})}),(0,u.jsx)(c.ZP,{item:!0,xs:10,children:(0,u.jsx)(l.Z,{type:"button",onClick:q,variant:"outlined",sx:{height:"64.45px",width:"335px;",backgroundColor:"#A9A9A9",color:"#000",borderColor:"transparent","&:hover":{backgroundColor:"#FFA500",color:"#000"}},children:"Save"})})]})}),(0,u.jsx)("br",{}),(0,u.jsx)(c.ZP,{item:!0,children:(0,u.jsx)(l.Z,{variant:"outlined",sx:{height:"64.45px",width:"335px;",backgroundColor:"#A9A9A9",borderColor:"transparent",color:"#000","&:hover":{backgroundColor:"#FFA500",color:"#000"}},onClick:function(){return Z().push("/dashboard/"+t)},children:"Cancel"})})]})})]})})]})}v.auth={unauthorized:"/"}}},function(e){e.O(0,[32,830,229,823,362,689,774,888,179],(function(){return t=148,e(e.s=t);var t}));var t=e.O();_N_E=t}]);