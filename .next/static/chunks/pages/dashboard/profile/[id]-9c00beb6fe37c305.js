(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[630],{9104:function(e,n,t){"use strict";var r=t(7294),i=t(6600),a=t(5893);n.Z=function(e){const{children:n,defer:t=!1,fallback:o=null}=e,[s,u]=r.useState(!1);return(0,i.Z)((()=>{t||u(!0)}),[t]),r.useEffect((()=>{t&&u(!0)}),[t]),(0,a.jsx)(r.Fragment,{children:s?n:o})}},6009:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/profile/[id]",function(){return t(7511)}])},4627:function(e,n){"use strict";n.Z={src:"/_next/static/media/logo.bebc6ea0.webp",height:217,width:998,blurDataURL:"data:image/webp;base64,UklGRm4AAABXRUJQVlA4WAoAAAAQAAAABwAAAQAAQUxQSBEAAAAAT4xGTkVGXD+UnjhAQj9HOQBWUDggNgAAALABAJ0BKggAAgACQDglAE6AId8Zv3gA/upd/TNb9zgv8w8T7xx92nvreGa6ZzIfJg1r6GvAAA=="}},8461:function(e,n,t){"use strict";t.r(n);var r=t(603),i=t(5893),a=t(7294),o=t(2293),s=t(7357),u=t(155),l=t(3946),c=t(5861),d=t(3375),h=t(3156),p=t(9661),x=t(2389),f=t(3599),m=t(4627),g=t(5675),Z=t.n(g),j=t(1163),b=t.n(j),v=t(3299);n.default=function(){var e=function(){y(null)},n=(0,r.Z)(a.useState(null),2),t=n[0],g=n[1],j=(0,r.Z)(a.useState(null),2),A=j[0],y=j[1],S=(0,r.Z)(a.useState(""),2),k=S[0],w=S[1],N=(0,v.useSession)();if(a.useEffect((function(){var e=window.localStorage.getItem("data");null!==e&&w(JSON.parse(e))}),[]),"authenticated"==N.status){N.data.user.email;var C=N.data.user.image;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.Z,{position:"static",color:"primary",enableColorOnDark:!0,style:{background:"#A9A9A9"},children:(0,i.jsx)(h.Z,{maxWidth:"xl",children:(0,i.jsxs)(u.Z,{disableGutters:!0,children:[(0,i.jsx)(c.Z,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},onClick:function(){return b().push("/")},children:(0,i.jsx)(Z(),{src:m.Z,alt:"logo",width:175,height:45})}),(0,i.jsxs)(s.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,i.jsx)(l.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){g(e.currentTarget)},color:"inherit",children:(0,i.jsx)(d.Z,{})}),(0,i.jsx)(d.Z,{id:"menu-appbar",anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(t),onClose:function(){g(null)},sx:{display:{xs:"block",md:"none"}}})]}),(0,i.jsx)(c.Z,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:(0,i.jsx)(Z(),{src:m.Z,alt:"logo",width:175,height:45})}),(0,i.jsx)(s.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}}),(0,i.jsxs)(s.Z,{sx:{flexGrow:0},children:[(0,i.jsx)(x.Z,{title:"Open settings",children:(0,i.jsx)(l.Z,{onClick:function(e){y(e.currentTarget)},sx:{p:0},children:(0,i.jsx)(p.Z,{alt:"Gmail Photo",src:C})})}),(0,i.jsxs)(d.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:A,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(A),onClose:e,children:[(0,i.jsx)(f.Z,{onClick:function(){e(),b().push("/dashboard/profile/"+k.user_id)},children:"Profile"}),(0,i.jsx)(f.Z,{onClick:function(){(0,v.signOut)(),e(),b().push("/")},children:"Signout"})]})]})]})})})})}return(0,i.jsx)("div",{children:(0,i.jsx)("p",{children:" Please sign in."})})}},7511:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return Z},default:function(){return j}});var r=t(7568),i=t(4924),a=t(603),o=t(4051),s=t.n(o),u=t(5893),l=t(6886),c=t(3321),d=t(9104),h=t(64),p=t(8461),x=t(7294),f=t(1163),m=t.n(f),g=t(3299),Z=!0;function j(e){var n=e.data,t=e.id,o=(0,a.Z)(x.useState(""),2),f=(o[0],o[1]),Z=(0,a.Z)(x.useState(""),2),j=Z[0],b=Z[1],v=(0,a.Z)(x.useState(""),2),A=(v[0],v[1],(0,a.Z)(x.useState(""),2)),y=A[0],S=A[1],k=(0,a.Z)(x.useState(""),2),w=(k[0],k[1]),N=(0,a.Z)(x.useState(""),2),C=N[0],P=N[1],_=(0,a.Z)(x.useState(""),2),O=_[0],G=_[1],U=(0,a.Z)(x.useState(""),2),E=U[0],$=U[1],q=(0,a.Z)(x.useState(""),2),L=q[0],T=q[1],z=(0,g.useSession)();x.useEffect((function(){"authenticated"===z.status&&f(z.data.user.email),w(JSON.parse(localStorage.getItem("data"))),G(n.data.Users.map((function(e){if(e.uid===t)return e.firstName}))),b(n.data.Users.map((function(e){if(e.uid===t)return e.email}))),P(n.data.Users.map((function(e){if(e.uid===t)return e.phone}))),S(n.data.Users.map((function(e){if(e.uid===t)return e.company}))),$(n.data.Users.map((function(e){if(e.uid===t)return e.truckPlateNumber}))),T(n.data.Users.map((function(e){if(e.uid===t)return e.driverLic})))}),[z.status]);var F=function(){var e=(0,r.Z)(s().mark((function e(n){var a,o,u,l,c,d,h;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=function(e,n,t){return u.apply(this,arguments)},u=function(){return u=(0,r.Z)(s().mark((function e(n,t,r){var a;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://just-chamois-38.hasura.app/v1/graphql",{method:"POST",headers:(0,i.Z)({},"x-hasura-admin-secret","MLy43KG049rHc1UVMsodU7dVHYrouGG3KEJ18Pm7z45qdxhZqAcnVte00i7uO4HY"),body:JSON.stringify({query:n,variables:r,operationName:t})});case 2:return a=e.sent,e.next=5,a.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)},c=function(){return o(l,"MyMutation",a)},d=function(){return h.apply(this,arguments)},h=function(){return h=(0,r.Z)(s().mark((function e(){var n,t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:n=e.sent,t=n.errors,r=n.data,t&&console.error(t),console.log(r),console.log("ran");case 8:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)},e.next=7,{firstName:O.toString(),email:j.toString(),company:y,phone:C,truckPlateNumber:E,driverLic:L,uid:t};case 7:a=e.sent,console.log("payload ready..."+JSON.stringify(a)),a&&(console.log("ran"),l='\n  mutation MyMutation($uid: uuid = "", $company: String = "", $driverLic: String = "", $email: String = "", $firstName: String = "", $phone: String = "", $truckPlateNumber: String = "") {\n    update_Users_by_pk(pk_columns: {uid: $uid}, _set: {company: $company, driverLic: $driverLic, email: $email, firstName: $firstName, phone: $phone, truckPlateNumber: $truckPlateNumber}) {\n      truckPlateNumber\n      phone\n      firstName\n      email\n      driverLic\n      company\n    }\n  }\n',d()),m().push("../../dashboard/"+t);case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(p.default,{}),(0,u.jsx)("br",{}),(0,u.jsx)(d.Z,{children:(0,u.jsxs)("form",{onSubmit:F,children:[(0,u.jsxs)(l.ZP,{container:!0,columns:12,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,u.jsx)(l.ZP,{item:!0,xs:10,children:(0,u.jsx)(h.Z,{disabled:!0,id:"standard-read-only-input",variant:"outlined",type:"text",label:"Name",value:O,style:{width:335}})}),(0,u.jsx)("br",{}),(0,u.jsx)(l.ZP,{item:!0,xs:10,children:(0,u.jsx)(h.Z,{disabled:!0,id:"standard-read-only-input",variant:"outlined",type:"text",label:"E-Mail",value:j,style:{width:335}})}),(0,u.jsx)("br",{}),(0,u.jsx)(l.ZP,{item:!0,xs:10,children:(0,u.jsx)(h.Z,{required:!0,id:"outlined-required",label:"Company Name",value:y,style:{width:335},onChange:function(e){return S(e.target.value)}})}),(0,u.jsx)("br",{}),(0,u.jsx)(l.ZP,{item:!0,xs:10,children:(0,u.jsx)(h.Z,{required:!0,id:"outlined-required",label:"Phone No",value:C,style:{width:335},onChange:function(e){return P(e.target.value)}})}),(0,u.jsx)("br",{}),(0,u.jsx)(l.ZP,{item:!0,xs:10,children:(0,u.jsx)(h.Z,{required:!0,id:"outlined-required",label:"Truck No",value:E,style:{width:335},onChange:function(e){return $(e.target.value)}})}),(0,u.jsx)("br",{}),(0,u.jsx)(l.ZP,{item:!0,xs:10,children:(0,u.jsx)(h.Z,{required:!0,id:"outlined-required",label:"Driver Lic",value:L,style:{width:335},onChange:function(e){return T(e.target.value)}})}),(0,u.jsx)("br",{})]}),(0,u.jsxs)(l.ZP,{container:!0,rows:10,direction:"row",justifyContent:"center",alignItems:"center",children:[(0,u.jsx)(l.ZP,{item:!0,children:(0,u.jsx)(c.Z,{variant:"outlined",sx:{height:"64.45px",width:"150px;",backgroundColor:"#A9A9A9",color:"#000",borderColor:"transparent","&:hover":{backgroundColor:"#FFA500",color:"#000"}},onClick:F,children:"Save"})}),(0,u.jsx)(l.ZP,{item:!0,children:(0,u.jsx)(c.Z,{variant:"outlined",sx:{height:"64.45px",marginLeft:"35px",width:"150px;",backgroundColor:"#A9A9A9",borderColor:"transparent",color:"#000","&:hover":{backgroundColor:"#FFA500",color:"#000"}},onClick:function(){return m().push("../"+t)},children:"Cancel"})})]})]})})]})}j.auth={unauthorized:"/"}}},function(e){e.O(0,[32,830,229,823,362,689,774,888,179],(function(){return n=6009,e(e.s=n);var n}));var n=e.O();_N_E=n}]);