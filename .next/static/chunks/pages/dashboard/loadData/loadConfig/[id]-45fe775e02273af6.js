(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[125],{9104:function(t,e,n){"use strict";var r=n(7294),i=n(6600),a=n(5893);e.Z=function(t){const{children:e,defer:n=!1,fallback:o=null}=t,[u,s]=r.useState(!1);return(0,i.Z)((()=>{n||s(!0)}),[n]),r.useEffect((()=>{n&&s(!0)}),[n]),(0,a.jsx)(r.Fragment,{children:u?e:o})}},8128:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/loadData/loadConfig/[id]",function(){return n(9578)}])},4627:function(t,e){"use strict";e.Z={src:"/_next/static/media/logo.bebc6ea0.webp",height:217,width:998,blurDataURL:"data:image/webp;base64,UklGRm4AAABXRUJQVlA4WAoAAAAQAAAABwAAAQAAQUxQSBEAAAAAT4xGTkVGXD+UnjhAQj9HOQBWUDggNgAAALABAJ0BKggAAgACQDglAE6AId8Zv3gA/upd/TNb9zgv8w8T7xx92nvreGa6ZzIfJg1r6GvAAA=="}},8461:function(t,e,n){"use strict";n.r(e);var r=n(603),i=n(5893),a=n(7294),o=n(2293),u=n(7357),s=n(155),c=n(3946),l=n(5861),d=n(3375),f=n(3156),p=n(9661),h=n(2389),m=n(3599),x=n(4627),g=n(5675),_=n.n(g),b=n(1163),k=n.n(b),Z=n(3299);e.default=function(){var t=function(){A(null)},e=(0,r.Z)(a.useState(null),2),n=e[0],g=e[1],b=(0,r.Z)(a.useState(null),2),j=b[0],A=b[1],v=(0,r.Z)(a.useState(""),2),S=v[0],y=v[1],w=(0,Z.useSession)();if(a.useEffect((function(){var t=window.localStorage.getItem("data");null!==t&&y(JSON.parse(t))}),[]),"authenticated"==w.status){w.data.user.email;var N=w.data.user.image;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(o.Z,{position:"static",color:"primary",enableColorOnDark:!0,style:{background:"#A9A9A9"},children:(0,i.jsx)(f.Z,{maxWidth:"xl",children:(0,i.jsxs)(s.Z,{disableGutters:!0,children:[(0,i.jsx)(l.Z,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},onClick:function(){return k().push("/")},children:(0,i.jsx)(_(),{src:x.Z,alt:"logo",width:175,height:45})}),(0,i.jsxs)(u.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,i.jsx)(c.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(t){g(t.currentTarget)},color:"inherit",children:(0,i.jsx)(d.Z,{})}),(0,i.jsx)(d.Z,{id:"menu-appbar",anchorEl:n,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(n),onClose:function(){g(null)},sx:{display:{xs:"block",md:"none"}}})]}),(0,i.jsx)(l.Z,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:(0,i.jsx)(_(),{src:x.Z,alt:"logo",width:175,height:45})}),(0,i.jsx)(u.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}}),(0,i.jsxs)(u.Z,{sx:{flexGrow:0},children:[(0,i.jsx)(h.Z,{title:"Open settings",children:(0,i.jsx)(c.Z,{onClick:function(t){A(t.currentTarget)},sx:{p:0},children:(0,i.jsx)(p.Z,{alt:"Gmail Photo",src:N})})}),(0,i.jsxs)(d.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:j,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(j),onClose:t,children:[(0,i.jsx)(m.Z,{onClick:function(){t(),k().push("/dashboard/profile/"+S.user_id)},children:"Profile"}),(0,i.jsx)(m.Z,{onClick:function(){(0,Z.signOut)(),t(),k().push("/")},children:"Signout"})]})]})]})})})})}return(0,i.jsx)("div",{children:(0,i.jsx)("p",{children:" Please sign in."})})}},9578:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSG:function(){return b},default:function(){return k}});var r=n(7568),i=n(4924),a=n(603),o=n(4051),u=n.n(o),s=n(5893),c=n(6886),l=n(3321),d=n(64),f=n(8461),p=n(7294),h=n(7357),m=n(3299),x=n(9104),g=n(1163),_=n.n(g),b=!0;function k(t){var e=t.data,n=t.id,o=function(){new Promise((function(t){setTimeout((function(){return t(A(e.data.Users.map((function(t){if(t.uid===n)return t.Tickets.filter((function(t){return t.ticket_id===L.ticket_id})).map((function(t){return t.Loads.filter((function(t){return t.ticket_id===L.ticket_id})).map((function(t){if(t.load_id===Number(q))return t.tripNumber})).join("")}))}))),y(e.data.Users.map((function(t){if(t.uid===n)return t.Tickets.filter((function(t){return t.ticket_id===L.ticket_id})).map((function(t){return t.Loads.filter((function(t){return t.ticket_id===L.ticket_id})).map((function(t){if(t.load_id===Number(q))return t.loadSite})).join("")}))}))),C(e.data.Users.map((function(t){if(t.uid===n)return t.Tickets.filter((function(t){return t.ticket_id===L.ticket_id})).map((function(t){return t.Loads.filter((function(t){return t.ticket_id===L.ticket_id})).map((function(t){if(t.load_id===Number(q))return t.Material})).join("")}))}))),T(e.data.Users.map((function(t){if(t.uid===n)return t.Tickets.filter((function(t){return t.ticket_id===L.ticket_id})).map((function(t){return t.Loads.filter((function(t){return t.ticket_id===L.ticket_id})).map((function(t){if(t.load_id===Number(q))return t.ton})).join("")}))}))),k(e.data.Users.map((function(t){if(t.uid===n)return t.Tickets.filter((function(t){return t.ticket_id===L.ticket_id})).map((function(t){return t.Loads.filter((function(t){return t.ticket_id===L.ticket_id})).map((function(t){if(t.load_id===Number(q))return t.ticket_id})).join("")}))})))),!0}),1e3)}))},g=(0,a.Z)(p.useState(""),2),b=g[0],k=g[1],Z=(0,a.Z)(p.useState(0),2),j=Z[0],A=Z[1],v=(0,a.Z)(p.useState(""),2),S=v[0],y=v[1],w=(0,a.Z)(p.useState(""),2),N=w[0],C=w[1],P=(0,a.Z)(p.useState(0),2),O=P[0],T=P[1],I=function(){var t=(0,r.Z)(u().mark((function t(e){var a,o,s,c,l,d,f;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=function(t,e,n){return s.apply(this,arguments)},s=function(){return s=(0,r.Z)(u().mark((function t(e,n,r){var a;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://just-chamois-38.hasura.app/v1/graphql",{method:"POST",headers:(0,i.Z)({},"x-hasura-admin-secret","MLy43KG049rHc1UVMsodU7dVHYrouGG3KEJ18Pm7z45qdxhZqAcnVte00i7uO4HY"),body:JSON.stringify({query:e,variables:r,operationName:n})});case 2:return a=t.sent,t.next=5,a.json();case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)},l=function(){return o(c,"MyMutation",a)},d=function(){return f.apply(this,arguments)},f=function(){return f=(0,r.Z)(u().mark((function t(){var e,n,r;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l();case 2:e=t.sent,n=e.errors,r=e.data,n&&console.error(n),console.log(r),console.log("ran");case 8:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)},t.next=7,{ticket_id:Number(b),load_id:q,tripNumber:Number(j),loadSite:S.toString(),Material:N.toString(),ton:Number(O)};case 7:a=t.sent,console.log("payload ready..."+JSON.stringify(a)),a&&(console.log("ran"),c='\n      mutation MyMutation($load_id: Int = 0, $Material: String = "", $loadSite: String = "", $load_id1: Int = 0, $ticket_id: Int = 0, $ton: Int = 0, $tripNumber: Int = 0) {\n        update_Loads_by_pk(pk_columns: {load_id: $load_id}, _set: {Material: $Material, loadSite: $loadSite, load_id: $load_id, ticket_id: $ticket_id, ton: $ton, tripNumber: $tripNumber}) {\n          Material\n          loadSite\n          load_id\n          ticket_id\n          ton\n          tripNumber\n        }\n      }\n    ',d()),_().push("../../loadData/"+n);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=(0,m.useSession)(),M=(0,a.Z)(p.useState(""),2),$=(M[0],M[1]),E=(0,a.Z)(p.useState(""),2),L=E[0],U=E[1],D=(0,a.Z)(p.useState(""),2),q=D[0],z=D[1];return p.useEffect((function(){"authenticated"===G.status&&$(G.data.user.email),U(JSON.parse(localStorage.getItem("data"))),z(JSON.parse(localStorage.getItem("LOADID"))),o()}),[G.status]),!1===o()?(0,s.jsx)("div",{children:"loading"}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.default,{}),(0,s.jsx)(x.Z,{children:(0,s.jsxs)(h.Z,{container:!0,children:[(0,s.jsxs)(c.ZP,{container:!0,columns:16,direction:"row",justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(c.ZP,{item:!0,xs:9}),(0,s.jsx)(c.ZP,{item:!0,xs:5,children:(0,s.jsx)(d.Z,{disabled:!0,id:"filled-disabled",variant:"filled",label:"Load ID",type:"number",value:q,name:"ticket_idInput",onChange:function(t){return z(Number(L.ticket_id))}})})]}),(0,s.jsx)("form",{onSubmit:I,children:(0,s.jsxs)(c.ZP,{container:!0,columnSpacing:12,gap:7,direction:"column",justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(d.Z,{required:!0,id:"outlined-required",type:"text",label:"Trip Number",value:j,name:"tripNumber",style:{width:335},onChange:function(t){return A(t.target.value)}})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(d.Z,{required:!0,id:"outlined-required",type:"text",label:"Load Site",name:"loadSite",value:S,style:{width:335},onChange:function(t){return y(t.target.value)}})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(d.Z,{required:!0,id:"outlined-required",label:"Material",value:N,type:"text",style:{width:335},onChange:function(t){return C(t.target.value)}})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(d.Z,{id:"outlined-number",label:"Yard/Tonnage",name:"ton",type:"number",value:O,InputLabelProps:{shrink:!0},style:{width:335},onChange:function(t){return T(t.target.value)}})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(l.Z,{type:"button",onClick:I,variant:"outlined",sx:{height:"64.45px",width:"335px;",backgroundColor:"#A9A9A9",color:"#000",borderColor:"transparent","&:hover":{backgroundColor:"#FFA500",color:"#000"}},children:"Save"})}),(0,s.jsx)(c.ZP,{item:!0,children:(0,s.jsx)(l.Z,{variant:"outlined",sx:{height:"64.45px",width:"335px;",backgroundColor:"#A9A9A9",borderColor:"transparent",color:"#000","&:hover":{backgroundColor:"#FFA500",color:"#000"}},onClick:function(){return _().push("/dashboard/"+n)},children:"Cancel"})})]})})]})})]})}k.auth={unauthorized:"/"}}},function(t){t.O(0,[32,830,229,823,362,689,774,888,179],(function(){return e=8128,t(t.s=e);var e}));var e=t.O();_N_E=e}]);