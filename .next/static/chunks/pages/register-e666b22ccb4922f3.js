(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{5511:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return t(72)}])},72:function(e,n,t){"use strict";t.r(n),t.d(n,{__N_SSG:function(){return v}});var r=t(7568),a=t(7297),u=t(4051),i=t.n(u),s=t(5893),c=t(7294),o=t(3918),l=t(5861),d=t(6886),m=t(64),h=t(3321),p=t(3299),f=t(1163);function x(){var e=(0,a.Z)(["\n\n"]);return x=function(){return e},e}var v=!0;n.default=function(e){var n=e.reg,t=(0,c.useState)(""),a=(t[0],t[1]),u=(0,c.useState)(""),o=u[0],x=u[1],v=(0,c.useState)(""),g=(v[0],v[1]),j=(0,c.useState)(""),P=j[0],Z=j[1],b=(0,c.useState)(""),y=b[0],S=b[1],_=(0,c.useState)(""),C=_[0],k=_[1],w=(0,c.useState)(!1),A=(w[0],w[1],(0,p.useSession)()),q=A.data,E=A.status,I=(0,f.useRouter)();if("loading"===E)return(0,s.jsx)("p",{children:"Loading..."});if("unauthenticated"===E)return(0,s.jsx)("p",{children:"Access Denied"});if("authenticated"===E){var O=q.user.email,L=q.user.name,T=function(){var e=(0,r.Z)(i().mark((function e(n){var t,r,a,u,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={firstName:q.user.name,driverLic:o,email:q.user.email,phoneNumber:P,comName:y,truckPlateNumber:C},r=JSON.stringify(t),"/api/signUpAPI",a={method:"POST",headers:{"Content-Type":"application/json"},body:r},e.next=6,fetch("/api/signUpAPI",a);case 6:return u=e.sent,e.next=9,u.json();case 9:s=e.sent,alert("Is this your full name: ".concat(s.data));case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),U=n.data.Users.map((function(e){return e.email===O?e.uid:""})).reduce((function(e,n){return e+n}),0).replace("NaN","");return localStorage.setItem("u",JSON.stringify(U)),(0,s.jsxs)(N,{action:"/api/signUpAPI",method:"post",onSubmit:T,css:"\n        padding: 2rem 4rem;\n      ",children:[(0,s.jsx)(l.Z,{children:"Create An Account"}),(0,s.jsx)("br",{}),(0,s.jsxs)(d.ZP,{container:!0,columns:8,direction:"row",justifyContent:"center",alignItems:"center",children:[(0,s.jsx)(d.ZP,{item:!0,xs:4,children:(0,s.jsx)(m.Z,{disabled:!0,required:!0,type:"text",name:"Name",value:L,onChange:function(e){return a(q.user.name)},placeholder:"Full Name"})}),(0,s.jsx)(d.ZP,{item:!0,xs:4,children:(0,s.jsx)(m.Z,{required:!0,type:"text",name:"driverLic",value:o,onChange:function(e){return x(e.target.value)},placeholder:"Driver Lic."})}),(0,s.jsx)(d.ZP,{item:!0,xs:4,children:(0,s.jsx)(m.Z,{disabled:!0,required:!0,name:"email",id:"email",type:"text",placeholder:"Email Address",value:O,onChange:function(e){return g(e.target.value)}})}),(0,s.jsx)(d.ZP,{item:!0,xs:4,children:(0,s.jsx)(m.Z,{required:!0,name:"phoneNumber",id:"phoneNumber",type:"number",value:P,placeholder:" Phone Number",onChange:function(e){return Z(e.target.value)}})}),(0,s.jsx)(d.ZP,{item:!0,xs:4,children:(0,s.jsx)(m.Z,{required:!0,name:"comName",id:"comName",type:"text",value:y,placeholder:" Comapany Name",onChange:function(e){return S(e.target.value)}})}),(0,s.jsx)(d.ZP,{item:!0,xs:4,children:(0,s.jsx)(m.Z,{required:!0,name:"truckPlateNumber",id:"truckPlateNumber",type:"text",value:C,placeholder:" Plate Number",onChange:function(e){return k(e.target.value)}})})]}),(0,s.jsx)(h.Z,{type:"submit",onClick:function(){T(),I.push("/thankyou")},children:"Create"})]})}};var N=o.ZP.form(x())}},function(e){e.O(0,[525,686,362,689,163,774,888,179],(function(){return n=5511,e(e.s=n);var n}));var n=e.O();_N_E=n}]);