(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[818],{5557:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(311)}])},4627:function(n,e){"use strict";e.Z={src:"/_next/static/media/logo.bebc6ea0.webp",height:217,width:998,blurDataURL:"data:image/webp;base64,UklGRm4AAABXRUJQVlA4WAoAAAAQAAAABwAAAQAAQUxQSBEAAAAAT4xGTkVGXD+UnjhAQj9HOQBWUDggNgAAALABAJ0BKggAAgACQDglAE6AId8Zv3gA/upd/TNb9zgv8w8T7xx92nvreGa6ZzIfJg1r6GvAAA=="}},8461:function(n,e,t){"use strict";t.r(e);var r=t(603),i=t(5893),o=t(7294),s=t(2293),a=t(7357),c=t(155),l=t(3946),u=t(5861),d=t(3375),f=t(3156),h=t(9661),p=t(2389),x=t(3599),m=t(4627),g=t(5675),v=t.n(g),j=t(1163),A=t.n(j),Z=t(3299);e.default=function(){var n=function(){k(null)},e=(0,r.Z)(o.useState(null),2),t=e[0],g=e[1],j=(0,r.Z)(o.useState(null),2),y=j[0],k=j[1],w=(0,r.Z)(o.useState(""),2),b=w[0],S=w[1],P=(0,Z.useSession)();if(o.useEffect((function(){var n=window.localStorage.getItem("data");null!==n&&S(JSON.parse(n))}),[]),"authenticated"==P.status){P.data.user.email;var O=P.data.user.image;return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(s.Z,{position:"static",color:"primary",enableColorOnDark:!0,style:{background:"#A9A9A9"},children:(0,i.jsx)(f.Z,{maxWidth:"xl",children:(0,i.jsxs)(c.Z,{disableGutters:!0,children:[(0,i.jsx)(u.Z,{variant:"h6",noWrap:!0,component:"a",href:"/",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},onClick:function(){return A().push("/")},children:(0,i.jsx)(v(),{src:m.Z,alt:"logo",width:175,height:45})}),(0,i.jsxs)(a.Z,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[(0,i.jsx)(l.Z,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(n){g(n.currentTarget)},color:"inherit",children:(0,i.jsx)(d.Z,{})}),(0,i.jsx)(d.Z,{id:"menu-appbar",anchorEl:t,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:Boolean(t),onClose:function(){g(null)},sx:{display:{xs:"block",md:"none"}}})]}),(0,i.jsx)(u.Z,{variant:"h5",noWrap:!0,component:"a",href:"",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"monospace",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:(0,i.jsx)(v(),{src:m.Z,alt:"logo",width:175,height:45})}),(0,i.jsx)(a.Z,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}}}),(0,i.jsxs)(a.Z,{sx:{flexGrow:0},children:[(0,i.jsx)(p.Z,{title:"Open settings",children:(0,i.jsx)(l.Z,{onClick:function(n){k(n.currentTarget)},sx:{p:0},children:(0,i.jsx)(h.Z,{alt:"Gmail Photo",src:O})})}),(0,i.jsxs)(d.Z,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:y,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:Boolean(y),onClose:n,children:[(0,i.jsx)(x.Z,{onClick:function(){n(),A().push("/dashboard/profile/"+b.user_id)},children:"Profile"}),(0,i.jsx)(x.Z,{onClick:function(){(0,Z.signOut)(),n(),A().push("/")},children:"Signout"})]})]})]})})})})}return(0,i.jsx)("div",{children:(0,i.jsx)("p",{children:" Please sign in."})})}},5981:function(n,e,t){"use strict";t.r(e);var r=t(7568),i=t(4924),o=t(7297),s=t(4051),a=t.n(s),c=t(5893),l=t(7294),u=t(3299),d=t(3321),f=t(3918),h=t(1163),p=t.n(h);function x(){var n=(0,o.Z)(["\n  display: flex;\n  flex-flow: column nowrap;\n  justify-content: center;\n  content-align: center;\n"]);return x=function(){return n},n}function m(){var n=(0,o.Z)(["\n  align-self: center;\n"]);return m=function(){return n},n}var g=f.ZP.div(x()),v=(0,f.ZP)(d.Z)(m());e.default=function(){var n=(0,l.useState)(),e=n[0],t=n[1],o=(0,l.useState)(!1),s=o[0],d=o[1],f=(0,l.useState)(),h=f[0],x=f[1],m=(0,u.useSession)(),j=m.data,A=m.status;return(0,l.useEffect)((function(){var n=function(){var n=(0,r.Z)(a().mark((function n(){var e,r;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("https://just-chamois-38.hasura.app/v1/graphql",{method:"POST",headers:(0,i.Z)({},"x-hasura-admin-secret","MLy43KG049rHc1UVMsodU7dVHYrouGG3KEJ18Pm7z45qdxhZqAcnVte00i7uO4HY"),body:JSON.stringify({query:"\n          query MyQuery {\n            Users {\n              uid\n              email\n              firstName\n              driverLic\n            }\n          }\n        "})});case 2:return e=n.sent,n.next=5,e.json();case 5:return r=n.sent,n.next=8,t(r);case 8:return n.next=10,d(!0);case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]),l.useEffect((function(){"authenticated"===A&&x(j.user.email)}),[A]),"authenticated"===A?(s?e.data.Users.map((function(n){if(n.email===h)return p().push("/dashboard/"+n.uid.toString())})):p().push("/register"),(0,c.jsx)(g,{children:(0,c.jsx)("div",{})})):(0,c.jsxs)(g,{children:[(0,c.jsx)("p",{children:" Please sign in."}),(0,c.jsxs)(v,{size:"large",onClick:function(){(0,u.signIn)()},children:[" ","Sign In"," "]})]})}},311:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return S}});var r=t(5893),i=t(7294),o=t(8461),s=t(5981),a=t(4627),c=t(3366),l=t(7462),u=t(5408),d=t(8700),f=t(9707),h=t(9766),p=t(948),x=t(1657);const m=["component","direction","spacing","divider","children"];function g(n,e){const t=i.Children.toArray(n).filter(Boolean);return t.reduce(((n,r,o)=>(n.push(r),o<t.length-1&&n.push(i.cloneElement(e,{key:`separator-${o}`})),n)),[])}const v=(0,p.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:(n,e)=>[e.root]})((({ownerState:n,theme:e})=>{let t=(0,l.Z)({display:"flex",flexDirection:"column"},(0,u.k9)({theme:e},(0,u.P$)({values:n.direction,breakpoints:e.breakpoints.values}),(n=>({flexDirection:n}))));if(n.spacing){const r=(0,d.hB)(e),i=Object.keys(e.breakpoints.values).reduce(((e,t)=>(("object"===typeof n.spacing&&null!=n.spacing[t]||"object"===typeof n.direction&&null!=n.direction[t])&&(e[t]=!0),e)),{}),o=(0,u.P$)({values:n.direction,base:i}),s=(0,u.P$)({values:n.spacing,base:i});"object"===typeof o&&Object.keys(o).forEach(((n,e,t)=>{if(!o[n]){const r=e>0?o[t[e-1]]:"column";o[n]=r}}));const a=(e,t)=>{return{"& > :not(style) + :not(style)":{margin:0,[`margin${i=t?o[t]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i]}`]:(0,d.NA)(r,e)}};var i};t=(0,h.Z)(t,(0,u.k9)({theme:e},s,a))}return t})),j=i.forwardRef((function(n,e){const t=(0,x.Z)({props:n,name:"MuiStack"}),i=(0,f.Z)(t),{component:o="div",direction:s="column",spacing:a=0,divider:u,children:d}=i,h=(0,c.Z)(i,m),p={direction:s,spacing:a};return(0,r.jsx)(v,(0,l.Z)({as:o,ownerState:p,ref:e},h,{children:u?g(d,u):d}))}));var A=j,Z=t(6886),y=t(5675),k=t.n(y),w=t(9008),b=t.n(w);function S(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(b(),{children:[(0,r.jsx)("title",{children:"DT app"}),(0,r.jsx)("link",{rel:"manifest",href:"/manifest.json"}),(0,r.jsx)("meta",{name:"theme-color",content:"#fff"}),(0,r.jsx)("meta",{name:"description",content:"make your Next.js application work offline using service workers via Google's workbox"})]}),(0,r.jsxs)(Z.ZP,{container:!0,direction:"column",justifyContent:"center",alignItems:"center",zeroMinWidth:!0,children:[(0,r.jsx)(b(),{children:" \xe5"}),(0,r.jsx)(o.default,{}),(0,r.jsx)(k(),{src:a.Z,alt:"logo"}),(0,r.jsx)(A,{direction:"column",justifyContent:"center",alignItems:"center",spacing:1,children:(0,r.jsx)(s.default,{})})]})]})}},9008:function(n,e,t){n.exports=t(5443)},7568:function(n,e,t){"use strict";function r(n,e,t,r,i,o,s){try{var a=n[o](s),c=a.value}catch(l){return void t(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function i(n){return function(){var e=this,t=arguments;return new Promise((function(i,o){var s=n.apply(e,t);function a(n){r(s,i,o,a,c,"next",n)}function c(n){r(s,i,o,a,c,"throw",n)}a(void 0)}))}}t.d(e,{Z:function(){return i}})}},function(n){n.O(0,[32,830,229,823,362,163,774,888,179],(function(){return e=5557,n(n.s=e);var e}));var e=n.O();_N_E=e}]);