"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/signUpAPI";
exports.ids = ["pages/api/signUpAPI"];
exports.modules = {

/***/ "(api)/./pages/api/signUpAPI.js":
/*!********************************!*\
  !*** ./pages/api/signUpAPI.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\nasync function handler(req, res) {\n    // Get data submitted in request's body.\n    const data = req.body;\n    const responseBody = {\n        app_metadata: {\n            roles: [\n                \"new\"\n            ],\n            my_user_info: \"New User\"\n        }\n    };\n    const responseBodyString = JSON.stringify({\n        query: `mutation insertUser($firstName:String,$lastName:String,$email:String, $phone:String, $company:String,  $truckPlateNumber:String) {\n      insert_Users(objects: {email:$email, firstName:$firstName, lastName:$lastName, phone:$phone, company:$company, truckPlateNumber:$truckPlateNumber}) {\n        affected_rows\n      }\n    }\n    `,\n        variables: {\n            firstName: data.firstName,\n            lastName: data.lastName,\n            email: data.email,\n            phone: data.phoneNumber,\n            company: data.comName,\n            truckPlateNumber: data.truckPlateNumber\n        }\n    });\n    // Optional logging to see the responses\n    console.log(\"body: \", data);\n    const response = await fetch(\"https://just-chamois-38.hasura.app/v1/graphql\", {\n        method: \"POST\",\n        body: responseBodyString,\n        headers: {\n            [\"x-hasura-admin-secret\"]: \"MLy43KG049rHc1UVMsodU7dVHYrouGG3KEJ18Pm7z45qdxhZqAcnVte00i7uO4HY\"\n        }\n    });\n    console.log(\"finished\");\n    const { errors , payload  } = await response.json();\n    if (errors) {\n        console.log(errors);\n    } else return {\n        statusCode: 200,\n        body: JSON.stringify(responseBody)\n    };\n// if (!data.firstName || !data.lastName) {\n//   // Sends a HTTP bad request error code\n//   return res.status(400).json({ data: 'First or last name not found' })\n// }\n// // Found the name.\n// // Sends a HTTP success code\n// res.status(200).json({ data: `${data.firstName} ${data.lastName}` })\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvc2lnblVwQVBJLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBZSxlQUFnQkEsT0FBTyxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRTtJQUMvQyx3Q0FBd0M7SUFDeEMsTUFBTUMsSUFBSSxHQUFHRixHQUFHLENBQUNHLElBQUk7SUFJckIsTUFBTUMsWUFBWSxHQUFHO1FBQ25CQyxZQUFZLEVBQUU7WUFDWkMsS0FBSyxFQUFFO2dCQUFDLEtBQUs7YUFBQztZQUNkQyxZQUFZLEVBQUUsVUFBVTtTQUN6QjtLQUNGO0lBRUQsTUFBTUMsa0JBQWtCLEdBQUdDLElBQUksQ0FBQ0MsU0FBUyxDQUFDO1FBQ3hDQyxLQUFLLEVBQUUsQ0FBQzs7Ozs7SUFLUixDQUFDO1FBQ0RDLFNBQVMsRUFBRTtZQUVUQyxTQUFTLEVBQUVYLElBQUksQ0FBQ1csU0FBUztZQUN6QkMsUUFBUSxFQUFFWixJQUFJLENBQUNZLFFBQVE7WUFDdkJDLEtBQUssRUFBRWIsSUFBSSxDQUFDYSxLQUFLO1lBQ2pCQyxLQUFLLEVBQUVkLElBQUksQ0FBQ2UsV0FBVztZQUN2QkMsT0FBTyxFQUFFaEIsSUFBSSxDQUFDaUIsT0FBTztZQUNyQkMsZ0JBQWdCLEVBQUVsQixJQUFJLENBQUNrQixnQkFBZ0I7U0FFeEM7S0FDRixDQUFDO0lBQ0osd0NBQXdDO0lBQ3RDQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxRQUFRLEVBQUVwQixJQUFJLENBQUM7SUFHM0IsTUFBTXFCLFFBQVEsR0FBRyxNQUFNQyxLQUFLLENBQzFCLCtDQUErQyxFQUMvQztRQUNFQyxNQUFNLEVBQUUsTUFBTTtRQUNkdEIsSUFBSSxFQUFFSyxrQkFBa0I7UUFDeEJrQixPQUFPLEVBQUU7WUFBRSxDQUFDLHVCQUF1QixDQUFDLEVBQUVDLGtFQUFxQztTQUFFO0tBQzlFLENBQ0Y7SUFDRE4sT0FBTyxDQUFDQyxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7SUFDeEIsTUFBTSxFQUFFUSxNQUFNLEdBQUVDLE9BQU8sR0FBRSxHQUFHLE1BQU1SLFFBQVEsQ0FBQ1MsSUFBSSxFQUFFO0lBQ2pELElBQUlGLE1BQU0sRUFBRTtRQUNWVCxPQUFPLENBQUNDLEdBQUcsQ0FBQ1EsTUFBTSxDQUFDLENBQUM7S0FDckIsTUFBTSxPQUFPO1FBQUVHLFVBQVUsRUFBRSxHQUFHO1FBQUU5QixJQUFJLEVBQUVNLElBQUksQ0FBQ0MsU0FBUyxDQUFDTixZQUFZLENBQUM7S0FBRSxDQUFDO0FBR3RFLDJDQUEyQztBQUMzQywyQ0FBMkM7QUFDM0MsMEVBQTBFO0FBQzFFLElBQUk7QUFFSixxQkFBcUI7QUFDckIsK0JBQStCO0FBQy9CLHVFQUF1RTtDQUN4RSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3BhZ2VzL2FwaS9zaWduVXBBUEkuanM/NzE4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiAgaGFuZGxlcihyZXEsIHJlcykge1xuICAvLyBHZXQgZGF0YSBzdWJtaXR0ZWQgaW4gcmVxdWVzdCdzIGJvZHkuXG4gIGNvbnN0IGRhdGEgPSByZXEuYm9keVxuXG4gXG5cbiAgY29uc3QgcmVzcG9uc2VCb2R5ID0ge1xuICAgIGFwcF9tZXRhZGF0YToge1xuICAgICAgcm9sZXM6IFtcIm5ld1wiXSxcbiAgICAgIG15X3VzZXJfaW5mbzogXCJOZXcgVXNlclwiLFxuICAgIH0sXG4gIH07XG5cbiAgY29uc3QgcmVzcG9uc2VCb2R5U3RyaW5nID0gSlNPTi5zdHJpbmdpZnkoe1xuICAgIHF1ZXJ5OiBgbXV0YXRpb24gaW5zZXJ0VXNlcigkZmlyc3ROYW1lOlN0cmluZywkbGFzdE5hbWU6U3RyaW5nLCRlbWFpbDpTdHJpbmcsICRwaG9uZTpTdHJpbmcsICRjb21wYW55OlN0cmluZywgICR0cnVja1BsYXRlTnVtYmVyOlN0cmluZykge1xuICAgICAgaW5zZXJ0X1VzZXJzKG9iamVjdHM6IHtlbWFpbDokZW1haWwsIGZpcnN0TmFtZTokZmlyc3ROYW1lLCBsYXN0TmFtZTokbGFzdE5hbWUsIHBob25lOiRwaG9uZSwgY29tcGFueTokY29tcGFueSwgdHJ1Y2tQbGF0ZU51bWJlcjokdHJ1Y2tQbGF0ZU51bWJlcn0pIHtcbiAgICAgICAgYWZmZWN0ZWRfcm93c1xuICAgICAgfVxuICAgIH1cbiAgICBgLFxuICAgIHZhcmlhYmxlczoge1xuICAgICAgXG4gICAgICBmaXJzdE5hbWU6IGRhdGEuZmlyc3ROYW1lLFxuICAgICAgbGFzdE5hbWU6IGRhdGEubGFzdE5hbWUsXG4gICAgICBlbWFpbDogZGF0YS5lbWFpbCxcbiAgICAgIHBob25lOiBkYXRhLnBob25lTnVtYmVyLFxuICAgICAgY29tcGFueTogZGF0YS5jb21OYW1lLFxuICAgICAgdHJ1Y2tQbGF0ZU51bWJlcjogZGF0YS50cnVja1BsYXRlTnVtYmVyLFxuICAgICAgXG4gICAgfSxcbiAgfSk7XG4vLyBPcHRpb25hbCBsb2dnaW5nIHRvIHNlZSB0aGUgcmVzcG9uc2VzXG4gIGNvbnNvbGUubG9nKCdib2R5OiAnLCBkYXRhKVxuXG5cbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICBcImh0dHBzOi8vanVzdC1jaGFtb2lzLTM4Lmhhc3VyYS5hcHAvdjEvZ3JhcGhxbFwiLFxuICAgIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBib2R5OiByZXNwb25zZUJvZHlTdHJpbmcsXG4gICAgICBoZWFkZXJzOiB7IFtcIngtaGFzdXJhLWFkbWluLXNlY3JldFwiXTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfSEFTVVJBX1NFQ1JFVCB9LFxuICAgIH1cbiAgKTtcbiAgY29uc29sZS5sb2coXCJmaW5pc2hlZFwiKTtcbiAgY29uc3QgeyBlcnJvcnMsIHBheWxvYWQgfSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgaWYgKGVycm9ycykge1xuICAgIGNvbnNvbGUubG9nKGVycm9ycyk7XG4gIH0gZWxzZSByZXR1cm4geyBzdGF0dXNDb2RlOiAyMDAsIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlQm9keSkgfTtcblxuXG4gIC8vIGlmICghZGF0YS5maXJzdE5hbWUgfHwgIWRhdGEubGFzdE5hbWUpIHtcbiAgLy8gICAvLyBTZW5kcyBhIEhUVFAgYmFkIHJlcXVlc3QgZXJyb3IgY29kZVxuICAvLyAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGRhdGE6ICdGaXJzdCBvciBsYXN0IG5hbWUgbm90IGZvdW5kJyB9KVxuICAvLyB9XG5cbiAgLy8gLy8gRm91bmQgdGhlIG5hbWUuXG4gIC8vIC8vIFNlbmRzIGEgSFRUUCBzdWNjZXNzIGNvZGVcbiAgLy8gcmVzLnN0YXR1cygyMDApLmpzb24oeyBkYXRhOiBgJHtkYXRhLmZpcnN0TmFtZX0gJHtkYXRhLmxhc3ROYW1lfWAgfSlcbn0iXSwibmFtZXMiOlsiaGFuZGxlciIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwicmVzcG9uc2VCb2R5IiwiYXBwX21ldGFkYXRhIiwicm9sZXMiLCJteV91c2VyX2luZm8iLCJyZXNwb25zZUJvZHlTdHJpbmciLCJKU09OIiwic3RyaW5naWZ5IiwicXVlcnkiLCJ2YXJpYWJsZXMiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImVtYWlsIiwicGhvbmUiLCJwaG9uZU51bWJlciIsImNvbXBhbnkiLCJjb21OYW1lIiwidHJ1Y2tQbGF0ZU51bWJlciIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19IQVNVUkFfU0VDUkVUIiwiZXJyb3JzIiwicGF5bG9hZCIsImpzb24iLCJzdGF0dXNDb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/signUpAPI.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/signUpAPI.js"));
module.exports = __webpack_exports__;

})();